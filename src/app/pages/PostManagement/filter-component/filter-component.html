<div class="absolute right-5 mt-2 bg-white border border-gray-300 rounded-lg shadow-lg p-4 w-full max-w-md z-50">
  <!-- Location Section -->
  <div class="flex flex-wrap gap-4 items-end mb-4 border-b pb-2">
    <!-- City -->
    <div class="relative inline-block">
      <button type="button" (click)="cityDropdownOpen = !cityDropdownOpen"
        class="inline-flex items-center px-4 py-2 bg-white text-sm font-medium text-gray-700 border border-gray-300 rounded-md shadow-sm hover:bg-gray-50">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="gray" class="mr-2">
          <path d="M3 22V10L12 2L21 10V22H14V16H10V22H3Z" />
        </svg>
        {{ filters.city || 'Select City' }}
        <svg class="ml-2 -mr-1 h-5 w-5 text-gray-400" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.24a.75.75 0 01-1.06 0L5.21 8.29a.75.75 0 01.02-1.08z" clip-rule="evenodd" />
        </svg>
      </button>
      <div *ngIf="cityDropdownOpen" class="absolute mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-10">
        <ul class="py-1 text-sm text-gray-700">
          <li *ngFor="let c of cities">
            <a (click)="selectCity(c)" class="block px-4 py-2 hover:bg-gray-100">{{ c }}</a>
          </li>
        </ul>
      </div>
    </div>

    <!-- Category -->
    <div class="relative inline-block">
      <button type="button" (click)="categoryDropdownOpen = !categoryDropdownOpen"
        class="inline-flex items-center px-4 py-2 bg-white text-sm font-medium text-gray-700 border border-gray-300 rounded-md shadow-sm hover:bg-gray-50">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="gray" class="mr-2">
          <path d="M10 4H4C2.9 4 2 4.9 2 6V18C2 19.1 2.9 20 4 20H20C21.1 20 22 19.1 22 18V8C22 6.9 21.1 6 20 6H12L10 4Z" />
        </svg>
        {{ filters.category || 'Select Category' }}
        <svg class="ml-2 -mr-1 h-5 w-5 text-gray-400" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.24a.75.75 0 01-1.06 0L5.21 8.29a.75.75 0 01.02-1.08z" clip-rule="evenodd" />
        </svg>
      </button>
      <div *ngIf="categoryDropdownOpen" 
     class="absolute mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-10 max-h-40 overflow-y-auto">
  <ul class="py-1 text-sm text-gray-700">
    <li *ngFor="let cat of categories">
      <a (click)="selectCategory(cat.categoryName,cat.id)" class="block px-4 py-2 hover:bg-gray-100">
        {{ cat.categoryName }}
      </a>
    </li>
  </ul>
</div>
    </div>

    <!-- Subcategory -->
    <div class="relative inline-block">
      <button type="button" (click)="subcategoryDropdownOpen = !subcategoryDropdownOpen"
        class="inline-flex items-center px-4 py-2 bg-white text-sm font-medium text-gray-700 border border-gray-300 rounded-md shadow-sm hover:bg-gray-50">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="gray" class="mr-2">
          <path d="M12 2L2 7l10 5 10-5-10-5zm0 7.2L4.2 7 12 3.8 19.8 7 12 9.2zm0 2.3l10-5v2.3l-10 5-10-5V8.5l10 5zm0 2.3l10-5v2.3l-10 5-10-5V13l10 5z"/>
        </svg>
        {{ filters.subCategory || 'Select Subcategory' }}
        <svg class="ml-2 -mr-1 h-5 w-5 text-gray-400" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.24a.75.75 0 01-1.06 0L5.21 8.29a.75.75 0 01.02-1.08z" clip-rule="evenodd" />
        </svg>
      </button>
      <div *ngIf="subcategoryDropdownOpen" class="absolute mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-10">
        <ul class="py-1 text-sm text-gray-700">
          <li *ngFor="let s of subcategories">
            <a (click)="selectSubcategory(s.name)" class="block px-4 py-2 hover:bg-gray-100">{{ s.name }}</a>
          </li>
        </ul>
      </div>
    </div>
  </div>

  <!-- Filters Section -->
  <div class="flex flex-wrap gap-4 items-end mb-4 border-b pb-2">
    <!-- Condition -->
    <div class="relative inline-block">
      <div class="absolute inset-y-0 left-0 flex items-center pl-2 pointer-events-none">
        <svg class="w-4 h-4 text-gray-500" fill="gray" viewBox="0 0 24 24">
          <path d="M20.59 13.41L11 3.83a2 2 0 00-2.83 0l-5.59 5.59a2 2 0 000 2.83l9.59 9.59a2 2 0 002.83 0l5.59-5.59a2 2 0 000-2.83zM7 9.5A1.5 1.5 0 118.5 8 1.5 1.5 0 017 9.5z"/>
        </svg>
      </div>
      <select [(ngModel)]="filters.condition" [ngModelOptions]="{ standalone: true }"
        class="pl-8 pr-2 py-1 text-sm rounded border border-gray-300 focus:ring focus:ring-blue-200 text-gray-700">
        <option value="" selected>Condition</option>
        <option value="New">New</option>
        <option value="Used">Used</option>
      </select>
    </div>

    <!-- Price -->
    <input [(ngModel)]="filters.minPrice" type="number" min="0" placeholder="Min Price"
      class="px-2 py-1 w-24 text-sm rounded border border-gray-300 focus:ring focus:ring-blue-200">
    <input [(ngModel)]="filters.maxPrice" type="number" min="0" placeholder="Max Price"
      class="px-2 py-1 w-24 text-sm rounded border border-gray-300 focus:ring focus:ring-blue-200">
  </div>

  <!-- Sorting & Status Section -->
  <div class="flex flex-wrap gap-4 items-end mb-4">
    <!-- Sort By -->
    <div class="relative inline-block">
      <div class="absolute inset-y-0 left-0 flex items-center pl-2 pointer-events-none">
        <svg class="w-4 h-4 text-gray-500" fill="gray" viewBox="0 0 24 24">
          <path d="M3 18h6v-2H3v2zm0-5h12v-2H3v2zm0-7v2h18V6H3z"/>
        </svg>
      </div>
      <select [(ngModel)]="filters.sortBy" [ngModelOptions]="{standalone:true}"
        class="pl-8 pr-2 py-1 text-sm rounded border border-gray-300 focus:ring focus:ring-blue-200 text-gray-700">
        <option value="" selected>Sort By</option>
        <option value="price">Price</option>
        <option value="createdAt">Created At</option>
        <option value="expireDate">Expire Date</option>
      </select>
    </div>

    <!-- Sort Direction -->
    <div class="relative inline-block">
      <div class="absolute inset-y-0 left-0 flex items-center pl-2 pointer-events-none">
        <svg class="w-4 h-4 text-gray-500" fill="gray" viewBox="0 0 24 24">
          <path d="M7 10l5 5 5-5H7zM17 14l-5-5-5 5h10z"/>
        </svg>
      </div>
      <select [(ngModel)]="filters.sortDirection" [ngModelOptions]="{standalone:true}"
        class="pl-8 pr-2 py-1 text-sm rounded border border-gray-300 focus:ring focus:ring-blue-200 text-gray-700">
        <option [ngValue]="true" selected>Asc</option>
        <option [ngValue]="false">Desc</option>
      </select>
    </div>

    <!-- Post Status -->
    <div class="relative inline-block">
      <div class="absolute inset-y-0 left-0 flex items-center pl-2 pointer-events-none">
        <svg class="w-4 h-4 text-gray-500" fill="gray" viewBox="0 0 24 24">
          <path d="M19 3H5c-1.1 0-2 .9-2 2v14l4-4h12c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"/>
        </svg>
      </div>
      <select [(ngModel)]="filters.postStatus" [ngModelOptions]="{standalone:true}"
        class="pl-8 pr-2 py-1 text-sm rounded border border-gray-300 focus:ring focus:ring-blue-200 text-gray-700">
        <option [ngValue]="1">Active</option>
        <option [ngValue]="2">Inactive</option>
        <option [ngValue]="3">Pending</option>
        <option [ngValue]="4">Sold</option>
        <option [ngValue]="5">Expired</option>
        <option [ngValue]="6">Rejected</option>
        <option [ngValue]="7">Removed</option>
      </select>
    </div>
  </div>

  <!-- Action Buttons -->
  <div class="flex justify-end gap-2">
    <button (click)="onFilter()" class="px-4 py-1 text-sm text-white bg-[#1173ac] hover:bg-[#188ccf] rounded">Filter</button>
    <button (click)="onReset()" type="button" class="px-4 py-1 text-sm text-gray-700 bg-gray-200 rounded hover:bg-gray-300">Reset</button>
  </div>
</div>
